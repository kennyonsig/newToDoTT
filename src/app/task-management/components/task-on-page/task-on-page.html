<div class="task-item">
  <button class="task-item__complete" (click)="toggleCompleteTask()" >
    <mat-icon class="task-item__icon" [class.completed]="task.isCompleted">
      {{ task.isCompleted ? 'done' : 'crop_square' }}
    </mat-icon>
  </button>
  <p class="task-item__title">{{ task.title }}</p>

  @if (taskList.displayFlags.showFavorite) {
  <button class="task-item__favorite" (click)="toggleToFavoriteTask()">
    <mat-icon class="task-item__icon" [class.favorite]="task.isFavorite">
      {{ task.isFavorite ? 'star' : 'star_border' }}
    </mat-icon>
  </button>
  }

  @if (taskList.displayFlags.showCreatedAt) {
    <p class="task-item__created-at">{{ task.createdAt | date }}</p>
  }
  @if (taskList.displayFlags.showDeadline) {
    <p class="task-item__deadline">{{ task.deadline | date }}</p>
  }

  @for (taskInfo of taskData; track taskInfo) {
    @if (taskList.displayFlags[taskInfo.displayKey]) {
      <p [ngClass]="'task-item__' + taskInfo.key">{{ task[taskInfo.key] }}</p>
    }
  }

  @if (taskList.displayFlags.showStickers) {
    <app-sticker-picker [stickers]="task.stickers"></app-sticker-picker>
  }

</div>

