<app-search-input class="tasks-search"
                  (searchTask)="findTask($event)"
                  [pageTitle]="pageTitle">
  <a routerLink="/dashboard">Dashboard</a>
  @if (!hasNoTasks() && !isOpenForm) {
      <button [matTooltip]="valueTip" class="tasks__toggle-btn" matTooltipClass="custom-tooltip" (click)="openForm()">
        Add task
      </button>
  }
</app-search-input>

<div class="container">
  <div class="tasks">
    @for (task of tasks(); track task.id) {
      <div class="tasks__item tuiAnimated-container" tuiAnimated>
        <app-task-header
          [task]="task"
          [isEditing]="editingTaskId() === task.id"
          (toggleComplete)="toggleComplete(task, $event)"
          (editClick)="editTask(task)"
          (remove)="removeTask(task.id)"
          (titleChange)="task.title = $event"
          (save)="saveTask(task)"
        ></app-task-header>

        <app-task-meta [task]="task"></app-task-meta>
      </div>
    }

  </div>

  @if (isOpenForm || hasNoTasks() ) {
    <div class="tasks__form tuiAnimated-container" tuiAnimated>
      <app-task-form (closeForm)="openForm()"></app-task-form>
    </div>
  }


</div>
